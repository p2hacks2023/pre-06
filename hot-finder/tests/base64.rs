#![cfg(target_arch = "wasm32")]

extern crate wasm_bindgen_test;
use wasm_bindgen_test::*;
use base64::{Engine as _,engine::general_purpose};

use hot_finder::img_util::*;

wasm_bindgen_test_configure!(run_in_browser);

const CORRECT_BYTE_DATA: [u8; 5086] = [137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,2,0,0,0,2,8,6,0,0,0,114,182,13,36,0,0,3,79,122,84,88,116,82,97,119,32,112,114,111,102,105,108,101,32,116,121,112,101,32,101,120,105,102,0,0,120,218,237,151,81,142,228,40,12,134,223,57,197,28,1,219,24,204,113,8,4,105,111,176,199,223,223,33,85,211,169,46,105,84,147,167,149,58,40,152,16,199,252,248,3,186,58,236,255,254,51,195,47,92,28,99,12,73,139,229,154,51,218,49,213,84,185,161,97,113,93,237,168,41,166,163,94,23,159,150,174,253,225,249,130,209,37,176,178,30,45,159,254,143,126,122,6,88,166,161,165,95,2,89,63,95,108,215,23,53,157,241,237,37,208,57,144,184,34,23,49,206,64,245,12,36,188,94,208,25,160,173,105,197,92,173,124,157,194,182,47,123,126,191,210,96,62,53,84,82,214,4,31,65,94,159,83,65,246,134,162,83,152,119,33,137,168,69,120,9,16,191,37,72,195,11,94,181,59,194,54,56,217,81,211,169,4,9,121,151,167,231,85,161,104,186,212,244,214,233,74,235,209,162,247,253,225,149,86,226,211,69,94,146,156,159,246,109,127,32,125,79,229,72,253,151,145,147,157,45,190,246,27,173,80,33,190,100,223,239,57,135,205,99,206,152,69,75,25,169,206,231,164,30,83,57,90,240,219,48,132,15,109,1,241,114,44,184,21,33,202,81,42,138,97,85,119,80,27,177,199,13,165,83,37,6,174,73,137,6,53,154,180,31,182,83,135,196,196,123,224,130,6,115,7,46,239,52,41,92,185,3,41,73,242,66,147,139,84,25,224,200,210,15,236,73,248,169,133,142,97,107,236,225,24,205,48,242,32,184,50,33,152,47,135,143,75,248,244,131,57,125,43,16,69,123,230,10,186,152,61,217,144,225,228,188,134,27,136,208,60,147,170,71,130,31,229,245,114,174,2,130,234,89,246,45,82,145,216,109,133,216,148,126,159,4,114,128,22,56,42,236,218,46,84,198,25,0,41,194,208,10,49,36,32,0,106,36,74,153,98,97,46,68,72,164,1,80,131,116,150,196,27,8,144,42,15,136,228,36,146,193,198,216,135,198,39,133,14,87,86,70,119,64,63,14,51,144,80,201,82,192,166,74,3,172,148,20,235,167,36,195,26,106,42,154,84,53,107,81,211,170,45,75,78,89,115,206,37,251,161,216,138,148,20,138,150,92,74,177,82,75,51,177,100,106,217,138,153,85,107,149,171,224,208,212,154,107,169,86,107,109,13,99,54,68,110,248,186,193,161,181,141,55,217,210,166,97,203,91,217,108,171,91,235,88,62,61,117,237,185,151,110,189,246,54,120,200,192,249,49,242,40,195,70,29,109,167,29,75,105,79,187,238,121,47,187,237,117,111,19,75,109,74,152,105,234,204,179,76,155,117,182,39,181,19,235,183,242,1,53,58,169,241,65,202,29,203,147,26,122,75,121,132,32,63,78,212,153,1,24,135,68,32,94,28,129,159,108,206,12,27,58,37,118,114,206,44,86,28,127,162,12,145,234,204,6,57,49,16,76,59,177,78,122,176,11,188,136,58,185,91,220,66,73,23,110,252,183,228,130,163,251,144,220,119,110,239,168,13,255,51,212,15,98,107,23,122,82,163,96,247,53,204,142,240,135,185,43,28,145,102,242,199,248,176,225,181,227,111,237,79,160,159,64,63,129,254,39,129,40,103,107,108,45,196,142,195,204,91,254,75,248,51,155,143,88,138,223,36,120,14,184,163,55,62,177,52,143,147,41,217,23,13,225,134,136,203,24,225,134,136,139,13,55,68,92,108,184,33,226,98,195,13,17,23,27,110,136,184,216,112,67,196,197,134,27,34,46,26,194,13,17,23,13,225,254,230,88,177,195,253,205,177,108,184,191,57,150,13,127,20,33,248,97,225,255,33,254,7,149,115,120,198,98,16,192,175,0,0,1,131,105,67,67,80,73,67,67,32,112,114,111,102,105,108,101,0,0,120,156,125,145,61,72,195,64,24,134,223,166,74,69,42,14,118,16,113,136,82,157,44,136,138,56,106,21,138,80,33,212,10,173,58,152,92,250,7,77,26,146,20,23,71,193,181,224,224,207,98,213,193,197,89,87,7,87,65,16,252,1,113,117,113,82,116,145,18,191,75,10,45,98,188,227,184,135,247,190,247,229,238,59,64,168,151,153,102,117,140,3,154,110,155,169,68,92,204,100,87,197,208,43,194,238,28,194,176,204,44,99,78,146,146,240,29,95,247,8,240,253,46,198,179,252,235,254,28,61,106,206,98,64,64,36,158,101,134,105,19,111,16,79,111,218,6,231,125,226,8,43,202,42,241,57,241,152,73,23,36,126,228,186,226,241,27,231,130,203,2,207,140,152,233,212,60,113,132,88,44,180,177,210,198,172,104,106,196,83,196,81,85,211,41,95,200,120,172,114,222,226,172,149,171,172,121,79,254,194,112,78,95,89,230,58,173,65,36,176,136,37,72,16,161,160,138,18,202,176,17,163,93,39,197,66,138,206,227,62,254,1,215,47,145,75,33,87,9,140,28,11,168,64,131,236,250,193,255,224,119,111,173,252,228,132,151,20,142,3,157,47,142,243,49,2,132,118,129,70,205,113,190,143,29,167,113,2,4,159,129,43,189,229,175,212,129,153,79,210,107,45,45,122,4,244,110,3,23,215,45,77,217,3,46,119,128,254,39,67,54,101,87,10,210,18,242,121,224,253,140,190,41,11,244,221,2,221,107,94,223,154,231,56,125,0,210,212,171,228,13,112,112,8,140,22,40,123,221,231,221,93,237,125,251,183,166,217,191,31,115,25,114,167,74,33,141,171,0,0,14,91,105,84,88,116,88,77,76,58,99,111,109,46,97,100,111,98,101,46,120,109,112,0,0,0,0,0,60,63,120,112,97,99,107,101,116,32,98,101,103,105,110,61,34,239,187,191,34,32,105,100,61,34,87,53,77,48,77,112,67,101,104,105,72,122,114,101,83,122,78,84,99,122,107,99,57,100,34,63,62,10,60,120,58,120,109,112,109,101,116,97,32,120,109,108,110,115,58,120,61,34,97,100,111,98,101,58,110,115,58,109,101,116,97,47,34,32,120,58,120,109,112,116,107,61,34,88,77,80,32,67,111,114,101,32,52,46,52,46,48,45,69,120,105,118,50,34,62,10,32,60,114,100,102,58,82,68,70,32,120,109,108,110,115,58,114,100,102,61,34,104,116,116,112,58,47,47,119,119,119,46,119,51,46,111,114,103,47,49,57,57,57,47,48,50,47,50,50,45,114,100,102,45,115,121,110,116,97,120,45,110,115,35,34,62,10,32,32,60,114,100,102,58,68,101,115,99,114,105,112,116,105,111,110,32,114,100,102,58,97,98,111,117,116,61,34,34,10,32,32,32,32,120,109,108,110,115,58,120,109,112,77,77,61,34,104,116,116,112,58,47,47,110,115,46,97,100,111,98,101,46,99,111,109,47,120,97,112,47,49,46,48,47,109,109,47,34,10,32,32,32,32,120,109,108,110,115,58,115,116,69,118,116,61,34,104,116,116,112,58,47,47,110,115,46,97,100,111,98,101,46,99,111,109,47,120,97,112,47,49,46,48,47,115,84,121,112,101,47,82,101,115,111,117,114,99,101,69,118,101,110,116,35,34,10,32,32,32,32,120,109,108,110,115,58,100,99,61,34,104,116,116,112,58,47,47,112,117,114,108,46,111,114,103,47,100,99,47,101,108,101,109,101,110,116,115,47,49,46,49,47,34,10,32,32,32,32,120,109,108,110,115,58,71,73,77,80,61,34,104,116,116,112,58,47,47,119,119,119,46,103,105,109,112,46,111,114,103,47,120,109,112,47,34,10,32,32,32,32,120,109,108,110,115,58,116,105,102,102,61,34,104,116,116,112,58,47,47,110,115,46,97,100,111,98,101,46,99,111,109,47,116,105,102,102,47,49,46,48,47,34,10,32,32,32,32,120,109,108,110,115,58,120,109,112,61,34,104,116,116,112,58,47,47,110,115,46,97,100,111,98,101,46,99,111,109,47,120,97,112,47,49,46,48,47,34,10,32,32,32,120,109,112,77,77,58,68,111,99,117,109,101,110,116,73,68,61,34,103,105,109,112,58,100,111,99,105,100,58,103,105,109,112,58,52,53,57,51,49,49,57,50,45,55,49,48,57,45,52,48,57,52,45,56,49,53,50,45,98,98,54,57,99,49,48,97,57,49,54,49,34,10,32,32,32,120,109,112,77,77,58,73,110,115,116,97,110,99,101,73,68,61,34,120,109,112,46,105,105,100,58,50,52,100,99,50,101,97,55,45,56,100,97,53,45,52,49,51,100,45,57,98,56,102,45,99,51,50,53,48,55,56,100,55,101,57,54,34,10,32,32,32,120,109,112,77,77,58,79,114,105,103,105,110,97,108,68,111,99,117,109,101,110,116,73,68,61,34,120,109,112,46,100,105,100,58,56,100,56,101,102,57,55,99,45,97,100,97,49,45,52,56,50,102,45,98,54,101,54,45,49,51,49,101,100,98,97,48,49,102,97,100,34,10,32,32,32,100,99,58,70,111,114,109,97,116,61,34,105,109,97,103,101,47,112,110,103,34,10,32,32,32,71,73,77,80,58,65,80,73,61,34,50,46,48,34,10,32,32,32,71,73,77,80,58,80,108,97,116,102,111,114,109,61,34,76,105,110,117,120,34,10,32,32,32,71,73,77,80,58,84,105,109,101,83,116,97,109,112,61,34,49,55,48,50,51,56,52,55,49,50,57,48,54,52,48,50,34,10,32,32,32,71,73,77,80,58,86,101,114,115,105,111,110,61,34,50,46,49,48,46,51,50,34,10,32,32,32,116,105,102,102,58,79,114,105,101,110,116,97,116,105,111,110,61,34,49,34,10,32,32,32,120,109,112,58,67,114,101,97,116,111,114,84,111,111,108,61,34,71,73,77,80,32,50,46,49,48,34,10,32,32,32,120,109,112,58,77,101,116,97,100,97,116,97,68,97,116,101,61,34,50,48,50,51,58,49,50,58,49,50,84,50,49,58,51,56,58,51,49,43,48,57,58,48,48,34,10,32,32,32,120,109,112,58,77,111,100,105,102,121,68,97,116,101,61,34,50,48,50,51,58,49,50,58,49,50,84,50,49,58,51,56,58,51,49,43,48,57,58,48,48,34,62,10,32,32,32,60,120,109,112,77,77,58,72,105,115,116,111,114,121,62,10,32,32,32,32,60,114,100,102,58,83,101,113,62,10,32,32,32,32,32,60,114,100,102,58,108,105,10,32,32,32,32,32,32,115,116,69,118,116,58,97,99,116,105,111,110,61,34,115,97,118,101,100,34,10,32,32,32,32,32,32,115,116,69,118,116,58,99,104,97,110,103,101,100,61,34,47,34,10,32,32,32,32,32,32,115,116,69,118,116,58,105,110,115,116,97,110,99,101,73,68,61,34,120,109,112,46,105,105,100,58,55,97,57,56,55,57,97,53,45,57,51,54,55,45,52,54,50,101,45,97,51,57,52,45,102,56,102,48,100,50,54,56,49,101,52,50,34,10,32,32,32,32,32,32,115,116,69,118,116,58,115,111,102,116,119,97,114,101,65,103,101,110,116,61,34,71,105,109,112,32,50,46,49,48,32,40,76,105,110,117,120,41,34,10,32,32,32,32,32,32,115,116,69,118,116,58,119,104,101,110,61,34,50,48,50,51,45,49,50,45,49,49,84,49,55,58,53,57,58,50,57,43,48,57,58,48,48,34,47,62,10,32,32,32,32,32,60,114,100,102,58,108,105,10,32,32,32,32,32,32,115,116,69,118,116,58,97,99,116,105,111,110,61,34,115,97,118,101,100,34,10,32,32,32,32,32,32,115,116,69,118,116,58,99,104,97,110,103,101,100,61,34,47,34,10,32,32,32,32,32,32,115,116,69,118,116,58,105,110,115,116,97,110,99,101,73,68,61,34,120,109,112,46,105,105,100,58,48,49,54,98,102,56,49,57,45,54,55,53,56,45,52,97,101,51,45,56,48,48,53,45,57,53,101,56,52,101,55,57,97,53,57,48,34,10,32,32,32,32,32,32,115,116,69,118,116,58,115,111,102,116,119,97,114,101,65,103,101,110,116,61,34,71,105,109,112,32,50,46,49,48,32,40,76,105,110,117,120,41,34,10,32,32,32,32,32,32,115,116,69,118,116,58,119,104,101,110,61,34,50,48,50,51,45,49,50,45,49,50,84,50,49,58,51,56,58,51,50,43,48,57,58,48,48,34,47,62,10,32,32,32,32,60,47,114,100,102,58,83,101,113,62,10,32,32,32,60,47,120,109,112,77,77,58,72,105,115,116,111,114,121,62,10,32,32,60,47,114,100,102,58,68,101,115,99,114,105,112,116,105,111,110,62,10,32,60,47,114,100,102,58,82,68,70,62,10,60,47,120,58,120,109,112,109,101,116,97,62,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,10,60,63,120,112,97,99,107,101,116,32,101,110,100,61,34,119,34,63,62,215,248,30,48,0,0,0,6,98,75,71,68,0,255,0,255,0,255,160,189,167,147,0,0,0,9,112,72,89,115,0,0,11,19,0,0,11,19,1,0,154,156,24,0,0,0,7,116,73,77,69,7,231,12,12,12,38,32,185,25,137,171,0,0,0,26,73,68,65,84,8,215,99,124,234,203,229,207,192,192,192,196,194,192,199,99,246,255,247,127,126,0,35,251,4,235,232,2,153,107,0,0,0,0,73,69,78,68,174,66,96,130];

const DATA: &str = "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eG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NDU5MzExOTItNzEwOS00MDk0LTgxNTItYmI2OWMxMGE5MTYxIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI0ZGMyZWE3LThkYTUtNDEzZC05YjhmLWMzMjUwNzhkN2U5NiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjhkOGVmOTdjLWFkYTEtNDgyZi1iNmU2LTEzMWVkYmEwMWZhZCIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IkxpbnV4IgogICBHSU1QOlRpbWVTdGFtcD0iMTcwMjM4NDcxMjkwNjQwMiIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjMyIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMzoxMjoxMlQyMTozODozMSswOTowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjM6MTI6MTJUMjE6Mzg6MzErMDk6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YTk4NzlhNS05MzY3LTQ2MmUtYTM5NC1mOGYwZDI2ODFlNDIiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDIzLTEyLTExVDE3OjU5OjI5KzA5OjAwIi8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjAxNmJmODE5LTY3NTgtNGFlMy04MDA1LTk1ZTg0ZTc5YTU5MCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjMtMTItMTJUMjE6Mzg6MzIrMDk6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+1/geMAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cMDAwmILkZiasAAAAaSURBVAjXY3zqy+XPwMDAxMLAx2P2//d/fgAj+wTr6AKZawAAAABJRU5ErkJggg==";

#[wasm_bindgen_test]
fn is_base64_works_correctly_question() {
    // Copied from https://docs.rs/base64/0.21.5/base64/

    let orig = b"data";
    let encoded: String = general_purpose::STANDARD_NO_PAD.encode(orig);
    assert_eq!("ZGF0YQ", encoded);
    assert_eq!(orig.as_slice(), &general_purpose::STANDARD_NO_PAD.decode(encoded).unwrap());
}

#[wasm_bindgen_test]
fn base64_to_img_byte_without_htmlheader() {
    let res = CORRECT_BYTE_DATA.to_vec();
    assert_eq!(base64_to_img(DATA.to_string()), res);
}

#[wasm_bindgen_test]
fn base64_to_img_byte_with_htmlheader() {
    let original: String = format!{"data:image/png;base64,{}", DATA};
    let res = CORRECT_BYTE_DATA.to_vec();
    assert_eq!(base64_to_img(original), res);
}
